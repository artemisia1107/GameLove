<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>游戏加速 Hosts 下载</title>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; background: #f7f7f7; }
  h1 { color: #333; }
  .host-link { margin: 20px 0; padding: 15px; background: #fff; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  a { display: inline-block; padding: 10px 15px; background: #0078d7; color: #fff; text-decoration: none; border-radius: 5px; margin-top: 5px; }
  a:hover { background: #005a9e; }
  p { color: #555; margin-top: 5px; }
  .version { font-size: 0.9em; color: #888; margin-top: 5px; }
</style>
</head>
<body>
<h1>最新游戏加速 Hosts 下载</h1>

<div class="host-link">
  <h2>Steam</h2>
  <a href="steam_hosts" download>下载 Steam Hosts</a>
  <p class="version">版本号: <span id="steam-version">--</span> | 最后更新时间: <span id="steam-time">--</span></p>
  <h3>最近 10 次更新历史</h3>
  <ul id="steam-history"></ul>
</div>

<div class="host-link">
  <h2>Epic</h2>
  <a href="epic_hosts" download>下载 Epic Hosts</a>
  <p class="version">版本号: <span id="epic-version">--</span> | 最后更新时间: <span id="epic-time">--</span></p>
  <h3>最近 10 次更新历史</h3>
  <ul id="epic-history"></ul>
</div>

<p>⚠️ 注意：hosts 文件仅用于加速访问，不保证解决所有地区限制问题。</p>

<script>
fetch("update_log.json")
  .then(res => res.json())
  .then(data => {
    // Steam
    const steamList = document.getElementById("steam-history");
    if(data.steam.length > 0){
      document.getElementById("steam-version").innerText = data.steam[0].version;
      document.getElementById("steam-time").innerText = data.steam[0].time;
    }
    data.steam.forEach(item => {
      const li = document.createElement("li");
      li.innerText = `版本: ${item.version} | 更新时间: ${item.time}`;
      steamList.appendChild(li);
    });
    // Epic
    const epicList = document.getElementById("epic-history");
    if(data.epic.length > 0){
      document.getElementById("epic-version").innerText = data.epic[0].version;
      document.getElementById("epic-time").innerText = data.epic[0].time;
    }
    data.epic.forEach(item => {
      const li = document.createElement("li");
      li.innerText = `版本: ${item.version} | 更新时间: ${item.time}`;
      epicList.appendChild(li);
    });
  })
  .catch(err => console.error("Failed to load update log:", err));
</script>
</body>
</html>
